<app>

	<ul>
		<li onclick="{golden}">黄金比</li>
		<li onclick="{silver}">白銀比</li>
		<li onclick="{platinum}">白金比</li>
		<li onclick="{bronze}">青銅比</li>
	</ul>

	<div class="box">
		<input type="number" class="width" onkeyup="{_change}" value="{width}">
		<input type="number" class="height" onkeyup="{_change}" value="{height}">
	</div>

	<style>
		ul li {
			display: inline-block;
			list-style: none;
			width: 10%;
			background-color: rgb(233, 233, 233);
			color: rgba(0,0,0,0.8);
			text-align: center;
			padding: 20px 0;
			transition: 0.3s;
		}
		ul li:hover{
			background-color: rgba(0,0,0,0.8);
			color: rgb(233, 233, 233);
		}

		.box {
			border: 5px solid rgb(50, 50, 50);
			margin: 0 auto;
			width: 324px;
			height: 200px;
			position: relative;
			top: 100px;
		}

		input {
			display: inline-block;
			width: 80px;
			padding: 5px;
			font-size: 1.4rem;
			text-align: center;
			outline: none;
			border: 0;
		}

		.width {
			position: absolute;
			top: -60px;
			left: 120px;
		}

		.height {
			position: absolute;
			top: 100px;
			left: -100px;
		}
	</style>
	<script>
		this.width = 1200;
		this.height = Math.floor(this.width / 1.618);

		var mode = 1.618;
		this.modeName = "golden";
		var last = "w";
		var lastWidth = this.width,
			lastHeight = this.height;

		var self = this;
		_change(e) {
			if (e.target.getAttribute("class") == "width") {
				self.height = Math.round(e.target.value / mode);
				lastWidth = e.target.value;
				last = "w";
			} else if (e.target.getAttribute("class") == "height") {
				self.width = Math.round(e.target.value * mode);
				lastHeight = e.target.value;
				last = "h";
			}
			riot.update();
		}
		changeSquareValue(num, mode, vertical_or_horizontal) {
			if (vertical_or_horizontal == "h") {
				self.width = Math.round(num * mode);
			} else if (vertical_or_horizontal == "w") {
				self.height = Math.round(num / mode);
			}
		}
		golden() {
			mode = 1.618;
			this.modeName = "golden";
			if (last == "w") {
				this.changeSquareValue(lastWidth, mode, last);
			} else if (last == "h") {
				this.changeSquareValue(lastHeight, mode, last);
			}
		}
		silver() {
			mode = 1.414;
			this.modeName = "silver";
			if (last == "w") {
				this.changeSquareValue(lastWidth, mode, last);
			} else if (last == "h") {
				this.changeSquareValue(lastHeight, mode, last);
			}
		}
		platinum() {
			mode = 1.732;
			this.modeName = "platinum";
			if (last == "w") {
				this.changeSquareValue(lastWidth, mode, last);
			} else if (last == "h") {
				this.changeSquareValue(lastHeight, mode, last);
			}
		}
		bronze() {
			mode = 3.303;
			this.modeName = "bronze";
			if (last == "w") {
				this.changeSquareValue(lastWidth, mode, last);
			} else if (last == "h") {
				this.changeSquareValue(lastHeight, mode, last);
			}
		}
	</script>

</app>
